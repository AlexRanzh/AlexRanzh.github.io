<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>Alex Zihuan Ran</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="ssss">
  
  
  
  
  <meta name="description" content="I&apos;m Alex Ran, ÂÜâÊ¢ìÊ¨¢.">
<meta property="og:type" content="website">
<meta property="og:title" content="Alex Zihuan Ran">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Alex Zihuan Ran">
<meta property="og:description" content="I&apos;m Alex Ran, ÂÜâÊ¢ìÊ¨¢.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alex Zihuan Ran">
<meta name="twitter:description" content="I&apos;m Alex Ran, ÂÜâÊ¢ìÊ¨¢.">
  
    <link rel="alternate" href="/atom.xml" title="Alex Zihuan Ran" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-0123456789ABCDEF",
          enable_page_level_ads: true
      });
  </script>
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/categories"] = "Categories"; 

  themeMenus["/tags"] = "Tags"; 

  themeMenus["/about"] = "About"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="Alex Zihuan Ran" rel="home"> Bello! </a>
            
          </h1>

          
            <div class="site-description">I&#39;m Alex Ran, ÂÜâÊ¢ìÊ¨¢.</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-Introduction to Machine Learning" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/16/Introduction to Machine Learning/">Introduction to Machine Learning</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/16/Introduction to Machine Learning/" class="article-date">
	  <time datetime="2019-04-16T10:15:01.000Z" itemprop="datePublished">April 16, 2019</time>
	</a>

      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This note is based on 2019 Spring COMPSCI189/289A course at University of California, Berkeley by Jonathan Shewchuk.</p>
<p>#Supervised Learning</p>
<h2 id="Classification"><a href="#Classification" class="headerlink" title="Classification"></a>Classification</h2><h3 id="example-1-classify-digit-1-and-7"><a href="#example-1-classify-digit-1-and-7" class="headerlink" title="example 1: classify digit 1 and 7"></a>example 1: classify digit 1 and 7</h3><ol>
<li>$N\times N$ pixels matrices</li>
<li>flatten into vector</li>
<li>create a classifier for $N\times N$ space<br>Note: Decision Boundary is a hyperplane</li>
</ol>
<h3 id="example-2-Bank-loan-default-prediction"><a href="#example-2-Bank-loan-default-prediction" class="headerlink" title="example 2: Bank loan default prediction"></a>example 2: Bank loan default prediction</h3><p>See notes for M3S17<a href>Quantitative Methods for Finance</a></p>
<h3 id="Feature-Independent-Variables-Predictor-Variables"><a href="#Feature-Independent-Variables-Predictor-Variables" class="headerlink" title="Feature/Independent Variables/ Predictor Variables"></a>Feature/Independent Variables/ Predictor Variables</h3><p>?</p>
<h3 id="Overfitting"><a href="#Overfitting" class="headerlink" title="Overfitting"></a>Overfitting</h3><p>The model is shaped to specifically to one certain data set so not predictive to new data.</p>
<p>When the test error worse coz the classifier becomes too sensitive to outliers or to other spurious/untrue patterns.</p>
<p>Sinuous decision boundaries that fit the sample points so well that it do not classify future points well.</p>
<h4 id="Quantify-Overfitting"><a href="#Quantify-Overfitting" class="headerlink" title="Quantify Overfitting"></a>Quantify Overfitting</h4><h3 id="Decision-Boundary"><a href="#Decision-Boundary" class="headerlink" title="Decision Boundary"></a>Decision Boundary</h3><p>The boundary chosen by classifier to separate items in class from those are not.</p>
<h3 id="Decision-Function"><a href="#Decision-Function" class="headerlink" title="Decision Function"></a>Decision Function</h3><p>A function $f(x)$ that maps a sample point to a scalar value that<br>$$<br>f(x)&gt;0 if x \in class C<br>f(x)\leq if x not \in class C<br>$$</p>
<p>For these decision function, the decision boundary is $f(x)=0$, <strong>usually</strong> a (d-1) dimensional surface in $R^d$.</p>
<h3 id="Isosurface-iso-contours"><a href="#Isosurface-iso-contours" class="headerlink" title="Isosurface/iso contours"></a>Isosurface/iso contours</h3><p>A isosurface for function $f$ is ${x: f(x)=0}$, 0 is isovalue here.<br>Note: ‚Äòiso-‚Äò prefix means ‚Äòequal-‚Äò</p>
<h3 id="Linear-classifier"><a href="#Linear-classifier" class="headerlink" title="Linear classifier"></a>Linear classifier</h3><p>The decision boundary is a line/plane<br>Usually a linear decision function.</p>
<p>$$<br>x=(x_1,x_2,‚Ä¶,x_5)^T</p>
<p>$$</p>
<h3 id="Conventions"><a href="#Conventions" class="headerlink" title="Conventions:"></a>Conventions:</h3><p>Uppercase roman: matrix, random variables, set<br>Lowercase roman: vector<br>Greek: scalar<br>Other scalar:</p>
<ul>
<li>n, number of sample points</li>
<li>d, number of features</li>
<li>i,j,k, integer indices<br>Function: f(), s(),‚Ä¶</li>
</ul>
<h3 id="Norms"><a href="#Norms" class="headerlink" title="Norms"></a>Norms</h3><ul>
<li>Euclidean norms</li>
<li>Normalize a vector: $\frac{x}{|x|}$</li>
<li>dot product:<ul>
<li>length:$|x|=\sum x_i y_i$</li>
<li>angle: $cos(\theta)=\frac{x\dot y}{|x||y|}$</li>
</ul>
</li>
</ul>
<h3 id="hyperplane"><a href="#hyperplane" class="headerlink" title="hyperplane"></a>hyperplane</h3><p>Given a decision function $f(x)=w\dot x+\alpha$ is $H={x: w\dot x =-\alpha }$<br>The set H is a <strong>hyperplane</strong>.</p>
<p><strong>property</strong><br>For any x, y on H, $w\dot(y-x)=0$</p>
<p><strong>normal vector</strong> w</p>
<p><strong>signed distance</strong>$w\dot x +\alpha$, $w$ is unit vector<br>i.e. positive on one side of H, negative on the other side</p>
<p>Note: the distance from H to the origin is $\alpha$.<br>Note2: $\alpha =0$ iff H passes through origin</p>
<h3 id="weights"><a href="#weights" class="headerlink" title="weights"></a>weights</h3><p>coefficients in $w$ and$\alpha$ are called <strong>weights</strong> or <strong>regression coefficients</strong></p>
<h3 id="Linearly-separable"><a href="#Linearly-separable" class="headerlink" title="Linearly separable"></a>Linearly separable</h3><p>the input data is <strong>linearly separable</strong> if there exists a hyperplane that separates all the sample planes in C from those not in C.</p>
<h3 id="Centriod-classifier"><a href="#Centriod-classifier" class="headerlink" title="Centriod classifier"></a>Centriod classifier</h3><p>computer mean $\mu_c$ of all vectors in class C and meam $\mu_x$ of al vectors NOT in class C.</p>
<ul>
<li>Decision function:<br>$f(x)=(\mu_c-\mu_x)\dot x-(\mu_c-\mu_x)\dot \frac{(\mu_c-\mu_x)}{2}$<br>$(\mu_c-\mu_x)$ is normal vector<br>$\frac{(\mu_c-\mu_x)}{2}$ is midpoint between$\mu_c, \mu_x$<br>so the decision boundary is the hyperplane that bisects \bar{\mu_c\mu_x}</li>
<li>good at: classify with samples from two gaussian/normal distributions, especially when sample size is large</li>
</ul>
<h3 id="Perceptron-Algorithm"><a href="#Perceptron-Algorithm" class="headerlink" title="Perceptron Algorithm"></a>Perceptron Algorithm</h3><blockquote>
<p>Slow but correct for linearly separable points.<br>Uses a <strong>numerical optimisation</strong> algorithm, namely the <strong>gradient decent</strong>.</p>
</blockquote>
<p>Sample points $X_1,X_2,‚Ä¶,X_n$.<br>For each sample point, $y_i = 1(\in C)\ or\ -1(\notin C)$</p>
<p>For simplicity, assume the decision boundaries pass through the origin.</p>
<h2 id="Regression"><a href="#Regression" class="headerlink" title="Regression"></a>Regression</h2><p>#Unsupervised Learning</p>
<h2 id="Clustering"><a href="#Clustering" class="headerlink" title="Clustering"></a>Clustering</h2><h2 id="Dimensionality-Reduction"><a href="#Dimensionality-Reduction" class="headerlink" title="Dimensionality Reduction"></a>Dimensionality Reduction</h2><h1 id="Validation"><a href="#Validation" class="headerlink" title="Validation"></a>Validation</h1><p>Hold back a subset of training data for future test use‚Äìvalidation set(to tune hyperparameters/choose model).</p>
<p>test set: final evaluation</p>
<ol>
<li>train a classifier multiple times, with different model/hyperparameter</li>
<li>test it on NEW data</li>
<li>choose the setting that gives the best validation result<br>?why: we want the model to be working in general data. In most cases(knn for example),input used data will always give the right output, which is not valuable for our evaluation of the model.</li>
</ol>
<h2 id="Types-of-error"><a href="#Types-of-error" class="headerlink" title="Types of error"></a>Types of error</h2><ol>
<li>training set error: fraction of training images not classified correctly</li>
<li>test set error:<br>fraction of misclassifying new data</li>
</ol>
<h1 id="outlier"><a href="#outlier" class="headerlink" title="outlier:"></a>outlier:</h1><p>points are atypical</p>
<h1 id="hyperparameters"><a href="#hyperparameters" class="headerlink" title="hyperparameters"></a>hyperparameters</h1><p>~ control overfitting/underfitting(e.g. k in knn)</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/14/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/14/hello-world/" class="article-date">
	  <time datetime="2019-04-15T00:17:48.442Z" itemprop="datePublished">April 15, 2019</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        
          <div class="entry-thumbnail">
            <a href="/2019/04/14/hello-world/"><img width="250" height="175" src="https://itimetraveler.github.io/hexo-theme-hiker/2016/10/24/Hiker%E4%B8%BB%E9%A2%98%E9%A2%84%E8%A7%88/homepage-index.png" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt></a>
          </div>
          <div class="entry-summary">
          Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Qu...

        
          <p class="article-more-link">
            <a href="/2019/04/14/hello-world/#more">Continue Reading ‚Üí</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Quantitative Methods in Retail Finance Note4" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/14/Quantitative Methods in Retail Finance Note4/">Quantitative Methods in Retail Finance Note 4</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/14/Quantitative Methods in Retail Finance Note4/" class="article-date">
	  <time datetime="2019-04-14T09:11:35.000Z" itemprop="datePublished">April 14, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Credit-Modelling/">Credit Modelling</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Markov-Transition-Model/">Markov Transition Model</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This notes follows materials from the slides for M3S17 at Imperial College London Mathematics Department by Dr. Tony Bellotti. Questions mentioned are referring to past exam papers of M3S17 at Imperial College London.</p>
<p>#Chapter 3: Markov Transition Model</p>
<h2 id="Markov-Transition-Models"><a href="#Markov-Transition-Models" class="headerlink" title="Markov Transition Models"></a>Markov Transition Models</h2><h3 id="Why-Markov-Chain-Model"><a href="#Why-Markov-Chain-Model" class="headerlink" title="Why Markov Chain Model?"></a>Why Markov Chain Model?</h3><p>This model allow us to track model <strong>changes in the state</strong> of an account over time.<br>e.g. Tracking credit card use.</p>
<h3 id="First-order-Markov-Transition-Model"><a href="#First-order-Markov-Transition-Model" class="headerlink" title="First-order Markov Transition Model"></a>First-order Markov Transition Model</h3><ul>
<li>Let $(X_1, X_2, ‚Ä¶, X_n)$ be a sequence of discrete random variables that take value from ${1,2,‚Ä¶,K}$ with K fixed.</li>
<li><strong>first-order finite value Markov chain</strong><br>The sequence is said to be a <em>first-order finite value Markov chain</em> if<br>$$<br>P(X_{n+1}=j|X_0=x_0,X_1=x_1,X_2=x_2,‚Ä¶,X_{n-1}=x_{n-1},X_n = i) = P(X_{n+1}=j|X_n = i)<br>$$<br>for all $n, x_0,x_1, ‚Ä¶, x_{n-1}$ and $i,j$ such that $1\leq i,j \leq K$.</li>
<li><strong>transition probability</strong><br><em>Transition probability</em> $p_n$ is defined as<br>$$<br>p_{n}(i,j)=P(X_n=j|X_{n-1}=i)<br>$$</li>
<li><strong>transition matrix</strong><br><em>Transition matrix</em> $P$ is defined as a $K \times K$ matrix such that<br>$$<br>P_n[i,j] = p_{n}(i,j)<br>$$</li>
<li><strong>structural zeroes</strong><br>If it is certain that no transition will be made from i to j in the $n$th period, then set $p_n(i,j)=0$, this is called a <em>structural zero</em>.</li>
</ul>
<p>###Propagation of Markov Chain<br>If we know the transition matrix from period $n-r$ to $n$, i.e. $P_r,P_{r+1},‚Ä¶,P_{n-1}$ are known, then we also be able to know the state in the $n$th period:<br>$$<br>Prob(X_{n}=j|X_{n-r}=i) = P_{n-r+1}P_{n-r+2}‚Ä¶P_{n}[i,j]<br>$$<br>for any $1\leq r \leq n$</p>
<p>Forcasting from state 0:<br>$$<br>Prob(X_{n}=j|X_{0}=i) = P_{1}P_{2}‚Ä¶P_{n}[i,j]<br>$$<br>let $\pi_{i}$ be the marginal distribution for $X_n$:<br>$$\pi_n = (P(X_n = 1),P(X_n = 2),‚Ä¶,P(X_n = K))^T$$</p>
<p>Then,<br>$$\pi_n = \pi_0(P_1 P_2 ‚Ä¶ P_n)$$</p>
<h3 id="Stationary-Markov-Chain"><a href="#Stationary-Markov-Chain" class="headerlink" title="Stationary Markov Chain"></a>Stationary Markov Chain</h3><ul>
<li><strong>stationary</strong><br>A Markov chain is <em>stationary</em> if $p_n(i,j)=p(i,j)$ for all $<strong>n</strong>,\ and\ i,j\ where 1\leq i, j \leq K$, for some transition probability $p$.</li>
<li><strong>stationary distribution</strong><br>A <em>stationary distribution</em> for transition matrix is a distribution $\pi^\star = \pi^\star P$.<blockquote>
<p>In practice, most Markov chains converge (with ùëõ) to a stationary<br>distribution.<br>(Markov chains which have a periodicity in state change do not necessarily converge, but we do not cover this material in this course).</p>
</blockquote>
</li>
</ul>
<h2 id="Estimation"><a href="#Estimation" class="headerlink" title="Estimation"></a>Estimation</h2><p>The aim this section, given some data, is to estimate $\mathbf{\theta}=(\theta_{ij})^{K}<em>{i,j=1}$ where $\theta</em>{ij}=p(i,j)$.<br>Maximum likelihood estimator for $\mathbf{\theta}$:<br>$$<br>\hat\theta_{ij}=\hat p(i,j)=\frac{n_{ij}}{\sum_{l=1}^{n}n_{il}}<br>$$<br>where $n_{ij}=|{t:x_{t-1}=i,x_{t}=j,\ for \ t\in {1,2,‚Ä¶,n}}|$, i.e. total number of observations that move from state $i$ to state $j$ during period 1 to n.<br><strong>proof</strong></p>
<blockquote>
<p>2017Q1<br>(c) Derive the maximum likelihood estimator for the first order finite-valued Markov transition model, assuming stationarity.</p>
</blockquote>
<ol>
<li>likelihood function</li>
</ol>
<p>$P(X_0=x_0,X_1=x_1,‚Ä¶,X_n=x_n)$<br>$=\prod_{t=1}^{n} P(X_{t}=x_t|X_{t-1}=x_{t-1},X_{t-2}=x_{t-2},‚Ä¶,X_{1}=x_{1})P(X_0=x_0)$<br>$=\prod_{t=1}^{n} P(X_{t}=x_t|X_{t-1}=x_{t-1})P(X_0=x_0)(Chain rule)$<br>$=P(X_0=x_0)\prod_{t=1}^{n} P(X_{t}=x_t|X_{t-1}=x_{t-1})$<br>$=P(X_0=x_0)\prod_{i=1}^{n}\prod_{j=1}^{n}[p(i,j)]^{n_{ij}}$<br>$=P(X_0=x_0)\prod_{i=1}^{n}\prod_{j=1}^{n}[\theta_{ij}]^{n_{ij}}$<br>$$<br>where\ n_{ij}=|{t:x_t=x_t,X_{t-1}=x_{t-1},\ for\ t\in {1,‚Ä¶,n}}|<br>$$</p>
<ol start="2">
<li>log likelihood function</li>
<li>differentiate and find MLE</li>
<li>adjust to constraints  </li>
</ol>
<h2 id="Testing-First-order-Assumptions"><a href="#Testing-First-order-Assumptions" class="headerlink" title="Testing First-order Assumptions"></a>Testing First-order Assumptions</h2><p>In order to test if first order markov chain is a suitable assumption in each occasion,<br>we use chi-square hypothesis test.</p>
<h3 id="second-order-Markov-chain"><a href="#second-order-Markov-chain" class="headerlink" title="second order Markov chain"></a>second order Markov chain</h3><p>A sequence (x_1,..,x_n) is a <em>second order Markov chain</em> if<br>$P(x_n+1=j|X_0=x_0,‚Ä¶,X_{n-1}=k,X_{n}=i)=P(x_n+1=j|X_{n-1}=k,X_{n}=i)$</p>
<p>The <strong>transition probability</strong><br>$p_n(k,i,j)=P(X_n=i, X_{n-1}=k)$</p>
<p>The <strong>MLE for a second-Markov chain</strong> can similarly be proved as:<br>$\hat p(k,i,j)=\hat\theta_{kij}=\frac{n_kij}{mki}$<br>where $n_{kij}=|{t:x_{t-2}=k,x_{t-1}=i,x_{t}=j\ for\ t \in {2,‚Ä¶,n}}|,<br>m_{ki}=|{t:x_{t-2}=k,x_{t-1}=i\ for\ t \in {2,‚Ä¶,n}}|=\sum_{l=i}^{n}n_{kil}$</p>
<ol>
<li><p><strong>$H_{0}$</strong><br>Null hypothesis:<br>$P(1,i,j)=P(2,i,j)=‚Ä¶=P(K,i,j)=P(i,j)$<br>where $P(k,i,j)$ is second-order Markov transition probability from state k to i then to j.</p>
</li>
<li><p><strong>$n_k$</strong><br>$n_k=|{t:x_t=k\ for\ t \in {1,..,n}}|$<br>i.e. The observed number of times for each states</p>
</li>
<li><p><strong>$O_{kj}$</strong><br>The observed number of times state k follwed by i and then j<br>$O_{kj}=n{kij}=m_{ki}\hat p(i,j)$</p>
</li>
<li><p><strong>$E_{kj}$</strong><br>The expected number of times state $k$ is followed by state $i$ and then $j$, <strong>given null hypothesis</strong> is:<br>$E_{kj}=n_{k}\hat p(k,i)\hat p(i,j)\approx m_{ki}\hat p(i,j)$<br>becuase $\hat p(k,i)=\frac{n_{ki}}{\sum_{l=1}^{K}n_{kl}}\approx \frac{m_{ki}}{n_k}$</p>
</li>
<li><p><strong>Pearson Chi_square test</strong><br>$$<br>\chi^2 = \sum_{k\in S_1}\sum_{k\in S_2}\frac{(O_{kj}-E{kj})^2}{E_{kj}}<br>$$</p>
</li>
</ol>
<ul>
<li>S1 is the set of states which do not have a structural zero moving to state $i$</li>
<li>S2 is the set of states which do not have a structural zero moving from state $i$</li>
</ul>
<ol start="6">
<li><strong>Degree of freedom</strong><br>$df = (K-1-z_{1})(K-1-z_{2})$</li>
</ol>
<ul>
<li>$z_1$: the number of structural zeroes in the transition from $k$ to $i$.</li>
<li>$z_2$: the number of structural zeroes in the transition from $i$ to $j$.</li>
</ul>
<h2 id="Roll-rate-Model"><a href="#Roll-rate-Model" class="headerlink" title="Roll-rate Model"></a>Roll-rate Model</h2>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Credit-Modelling/">Credit Modelling</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Markov-Transition-Model/">Markov Transition Model</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Quantitative Methods in Retail Finance Note3" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/14/Quantitative Methods in Retail Finance Note3/">Quantitative Methods in Retail Finance Note 3</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/14/Quantitative Methods in Retail Finance Note3/" class="article-date">
	  <time datetime="2019-04-14T09:09:20.000Z" itemprop="datePublished">April 14, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Credit-Modelling/">Credit Modelling</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Survival-Model/">Survival Model</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This notes follows materials from the slides for M3S17 at Imperial College London Mathematics Department by Dr. Tony Bellotti. Questions mentioned are referring to past exam papers of M3S17 at Imperial College London.</p>
<h1 id="Chapter-2-Survival-Models-for-Credit-Risk"><a href="#Chapter-2-Survival-Models-for-Credit-Risk" class="headerlink" title="Chapter 2: Survival Models for Credit Risk"></a>Chapter 2: Survival Models for Credit Risk</h1>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Credit-Modelling/">Credit Modelling</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Survival-Model/">Survival Model</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Quantitative Methods in Retail Finance Note2" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/14/Quantitative Methods in Retail Finance Note2/">Quantitative Methods in Retail Finance Note 2</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/14/Quantitative Methods in Retail Finance Note2/" class="article-date">
	  <time datetime="2019-04-14T09:06:57.000Z" itemprop="datePublished">April 14, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ANN/">ANN</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This notes follows materials from the slides for M3S17 at Imperial College London Mathematics Department by Dr. Tony Bellotti. Questions mentioned are referring to past exam papers of M3S17 at Imperial College London.</p>
<h1 id="Chapter-8-Artificial-Neural-Networks-in-Fraud-detection"><a href="#Chapter-8-Artificial-Neural-Networks-in-Fraud-detection" class="headerlink" title="Chapter 8: Artificial Neural Networks in Fraud detection"></a>Chapter 8: Artificial Neural Networks in Fraud detection</h1><p>##</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ANN/">ANN</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Quantitative Methods in Retail Finance Notes1" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/13/Quantitative Methods in Retail Finance Notes1/">Quantitative Method in Retail Finance Note 1</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/13/Quantitative Methods in Retail Finance Notes1/" class="article-date">
	  <time datetime="2019-04-13T14:52:11.000Z" itemprop="datePublished">April 13, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ANN/">ANN</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Credit-modelling/">Credit modelling</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This notes follows materials from the slides for M3S17 at Imperial College London Mathematics Department by Dr. Tony Bellotti. Questions mentioned are referring to past exam papers of M3S17 at Imperial College London.</p>
<h1 id="Chapter-7-Fraud-Detection-in-Retail-Credit"><a href="#Chapter-7-Fraud-Detection-in-Retail-Credit" class="headerlink" title="Chapter 7: Fraud Detection in Retail Credit"></a>Chapter 7: Fraud Detection in Retail Credit</h1><h2 id="Types-of-Fraud"><a href="#Types-of-Fraud" class="headerlink" title="Types of Fraud:"></a>Types of Fraud:</h2><ul>
<li>Theft</li>
<li>Counterfeit</li>
<li>Application</li>
<li>Card-not-present/online</li>
</ul>
<h2 id="Automated-Fraud-Detection"><a href="#Automated-Fraud-Detection" class="headerlink" title="Automated Fraud Detection"></a>Automated Fraud Detection</h2><p>This essentially is a classification problem, legitimate transaction Y=1, illegal Y=0.</p>
<p><strong>Special problems for fraud detection (that distinguish it from other classification problems)</strong></p>
<blockquote>
<p>2017 Q3(a) What special characteristics does fraud detection have, considered as a classification problem?<br>‚àó Need to process millions of transactions in real time.<br>‚àó Highly imbalanced classification problem: ratio of fraudulent to legitimate<br>transactions is typically very small.<br>‚àó Nature of fraud is reflexive. That is, fraudsters adapt to the detection methods applied by banks to stop them.</p>
</blockquote>
<ol>
<li>High volume data.</li>
<li>Data highly imbalanced.</li>
<li>Reflexive nature.</li>
</ol>
<p><em>difference of fraud detection problem from application model?</em><br>  Do not need to explain the model, so nonlinear complicated models are allowed.</p>
<h2 id="Business-Rule-method"><a href="#Business-Rule-method" class="headerlink" title="Business Rule method"></a>Business Rule method</h2><blockquote>
<p>For example, the card is used abroad<br>and it had not been used in the past year in the country<br>and the card holder did not tell the bank they will be abroad</p>
</blockquote>
<h2 id="Predictive-Model-method"><a href="#Predictive-Model-method" class="headerlink" title="Predictive Model method"></a>Predictive Model method</h2><p>Construct a two-class classifier - a fraud scorecard.</p>
<ul>
<li>the higher the score, the more trustworthy the account is.</li>
<li>classifier model with function $f$: $\hat{y} = f(x,\theta)$, and estimate $\theta$ with data x.</li>
<li>filter out some legitimate transaction to balance training data set. e.g. discard small amount transactions, regular transactions and inactive accounts.<br><strong>past research have shown that a linear model is not enough, non-linear classifiers like ANN works better.</strong></li>
<li>This method works well in detecting known type fraudulent transactions, but not able to deal with new fraud types.</li>
</ul>
<h2 id="Anomaly-Detection-method"><a href="#Anomaly-Detection-method" class="headerlink" title="Anomaly Detection method"></a>Anomaly Detection method</h2><p>Another method is to model only the legal transactions and detect any abnormal new transactions.</p>
<h3 id="Comparing-with-predictive-modelling"><a href="#Comparing-with-predictive-modelling" class="headerlink" title="Comparing with predictive modelling:"></a>Comparing with predictive modelling:</h3><p>  pros:</p>
<ol>
<li>it can detect new types of fraud</li>
<li>it do not worry about the imbalanced data(coz 1)<br>con:</li>
<li>it is not as sensible to transactions that are similar to legitimate ones</li>
</ol>
<h3 id="One-class-classifier-only-model-legitimate-pdf-over-predictor-variables"><a href="#One-class-classifier-only-model-legitimate-pdf-over-predictor-variables" class="headerlink" title="One-class classifier only model legitimate pdf over predictor variables"></a>One-class classifier only model legitimate pdf over predictor variables</h3><blockquote>
<p>2017Q3(b) What are the key differences between one-class and two-class classifiers for fraud?<br>‚àó Two-class classifiers are modelling the difference between fraudulent and legitimate transactions.<br>‚àó One-class classifiers just model distribution of legitimate transactions.<br>‚àó One-class classifiers are well-suited to deal with the reflexivity of fraud, since they do not explicitly model the existing pattern of fraud.</p>
</blockquote>
<h3 id="Steps-for-Anomaly-Detection"><a href="#Steps-for-Anomaly-Detection" class="headerlink" title="Steps for Anomaly Detection:"></a>Steps for Anomaly Detection:</h3><ol>
<li>drop out abnormal transactions: fraudulent transactions, errors, genuine but outliers</li>
<li>Let $S = (\mathbf{x_{1}},\mathbf{x_{2}},‚Ä¶,\mathbf{x_{n}})$ be a training sequence of legitimate transactions.</li>
<li>estimate $f(\mathbf{x}|S,\gamma)$ where $\gamma$ is an estimation parameter.</li>
<li>A classification decision is made with a new observation $\mathbf{x_{new}}$ at:<br>$$<br>\hat(y) = I(f(\mathbf{x_{new}}|S,\gamma)&gt;\theta)<br>$$<br>where $\theta$ is a threshold in probability.<blockquote>
<p>2017Q3(e) Which of these will register a fraud alert, based on your result in part (d)?<br>ANS: T2 and T3 have density less than Œ∏ = 0.05 and so will register a fraud alert.</p>
</blockquote>
</li>
</ol>
<p><em>The threshold $\theta$ is manually set based on the (sensible) strategy of controlling the fraction $\epsilon$ of legitimate cases to be classified as anomalous, based on training data.</em><br>‚Äî- This is constrained by how many false alert is generated/business resource can be input to followups.</p>
<blockquote>
<p>2017 Q3(d) Given a false alarm rate Œµ = 1/8, and based only on this data, what is the value of Œ∏?<br>ANS:<br>Use formula $$<br>max \theta s.t. \sum^{n}_{i=1}I(f(x_i) &gt; \theta) \leq n(1 ‚àí \epsilon)$$<br>where $$n(1 ‚àí \epsilon) = 24 √ó 7/8 = 21$$<br>Therefore, count lowest (24 ‚àí 21) = 3 densities from the table gives $\theta$ = 0.05.</p>
</blockquote>
<p>i.e.<br>$$<br>min\theta s.t.  \sum_{i=1}^{n}I(f(\mathbf{x}_{i}|S,\gamma)&gt;\theta)=floor(n\epsilon)<br>$$</p>
<h3 id="Kernel-Density-Estimator"><a href="#Kernel-Density-Estimator" class="headerlink" title="Kernel Density Estimator"></a>Kernel Density Estimator</h3><p>Crude empirical density:<br>$$<br>\hat{F_{EMP}}= \frac{1}{n}\sum_{i=1}^{n}I(x_{i}\leqslant x)<br>$$</p>
<p>kernel density function:</p>
<blockquote>
<p>2017Q3(c) Describe Parzen density estimation.</p>
</blockquote>
<p>$$<br>\hat{f(x)} = \frac{1}{nh^m}\sum_{i=1}^{n} K(\frac{x-x_{i}}{h})<br>$$s.t.</p>
<ol>
<li>$K(z) = K(-z)$</li>
<li>$\int K(z) dz = 1$</li>
<li>$\mathbf{x_1}, \mathbf{x_2}, ‚Ä¶, \mathbf{x_n}$ is observations with dimension m</li>
<li>h is bandwidth constant</li>
</ol>
<h3 id="Available-data"><a href="#Available-data" class="headerlink" title="Available data"></a>Available data</h3><ul>
<li>Account Data</li>
<li>Transaction Data</li>
<li>Personal Data</li>
<li>Location data</li>
</ul>
<h2 id="Social-Network-Analysis"><a href="#Social-Network-Analysis" class="headerlink" title="Social Network Analysis"></a>Social Network Analysis</h2><p>Using weight $w_{ij}$ to estimate <strong>association feature/degree of connectedness to fraud people</strong> $F_{i}$ and hence have fraud propensity from it.</p>
<blockquote>
<p>2017Q3(f) Describe in words what Fi is measuring?<br>(f) Variable $F_{i}$ measures the degree of connectedness to other people committing fraud.</p>
</blockquote>
<h3 id="Formula"><a href="#Formula" class="headerlink" title="Formula:"></a>Formula:</h3><p>$$<br>F_{i} = \frac{1}{\sum_{i=1}^{n}w_{ij}} \sum_{j=1}^{n} w_{ij}p_{j}<br>$$</p>
<blockquote>
<p>2017Q3(g) What range of values can Fi take?<br>$0\leq F_i \leq 1$</p>
</blockquote>
<blockquote>
<p>2017Q3(h) Calculate the value of Fi for T4 (node 3)?<br>Use formula in the question to get (4 + 1)/(2 + 4 + 1 + 1) = 5/8 = 0.625.</p>
</blockquote>
<blockquote>
<p><strong>2017Q3(i) How are values of Fi broadly affecting the density?</strong><br>(i)<br>Low values of $F_i$ are inducing a small <strong>increase</strong> in density.<br>High values of $F_i$ are inducing a large <strong>decrease</strong> in density.<br><strong>Low density means default</strong></p>
</blockquote>
<h2 id="Model-Evaluation"><a href="#Model-Evaluation" class="headerlink" title="Model Evaluation"></a>Model Evaluation</h2><p>Special performance evaluation for this problem:</p>
<ol>
<li>proportion fraud detected</li>
<li>keep low false alarm rate, not to upset customer</li>
<li>cost monitoring automated fraud alert</li>
</ol>
<h3 id="Receiver-operating-characteristics-ROC"><a href="#Receiver-operating-characteristics-ROC" class="headerlink" title="Receiver-operating characteristics (ROC)"></a>Receiver-operating characteristics (ROC)</h3><p>Two CDF measures:<br>$$y = {0,1}  F_{y}(c)=P(S\leq c|Y=y)$$</p>
<ul>
<li>y=0: given a threshold c, probability of fraud transaction that identified as fraud)</li>
<li>y=1: given a threshold c, probability of false alert generated</li>
</ul>
<h3 id="Area-under-ROC-curve-AUC"><a href="#Area-under-ROC-curve-AUC" class="headerlink" title="Area under ROC curve(AUC)"></a>Area under ROC curve(AUC)</h3><p>$$<br>A = \int F_{1}(c)F_{0}‚Äô(c)dc<br>$$</p>
<h3 id="Precision-Recall-and-alarm-rate"><a href="#Precision-Recall-and-alarm-rate" class="headerlink" title="Precision, Recall and alarm rate"></a>Precision, Recall and alarm rate</h3><ul>
<li>$F(c) = P(S\leq c)$</li>
<li>$p_{0} = P(Y=0)$</li>
<li>Recall: $F_{0}(c)$, the proportion of fraud transactions that are detected</li>
<li>Precision: the proportion alerts that are actually fraud<br>$P(Y=0|S\leq c)=\frac{F_{0}(c)p_0}{F(c)}$</li>
<li>Alarm rate: $F(c)= p_0 \frac{recall}{precision}$, unconditional probability of alarm<br><strong>Monitoring cost increases linear with alarm rate</strong></li>
</ul>
<h3 id="Precision-recall-PR-curve"><a href="#Precision-recall-PR-curve" class="headerlink" title="Precision-recall (PR) curve"></a>Precision-recall (PR) curve</h3><p>properties:</p>
<ul>
<li>typical decreasing</li>
<li>best: 1,1</li>
<li>worst: $F(c)=F_0 (c)$, horizontal line with $precision =p_0$</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Notes/">Notes</a>, <a class="article-category-link" href="/categories/Notes/Math-Notes/">Math Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ANN/">ANN</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Credit-modelling/">Credit modelling</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-DS100 - Data Manipulation and Cleaning" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/06/DS100 - Data Manipulation and Cleaning/">DS100&amp;More - Data Manipulation and Cleaning</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2019/04/06/DS100 - Data Manipulation and Cleaning/" class="article-date">
	  <time datetime="2019-04-06T12:16:24.000Z" itemprop="datePublished">April 6, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Study-Notes/">Study Notes</a>, <a class="article-category-link" href="/categories/Study-Notes/DS-Notes/">DS Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Cleaning/">Data Cleaning</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Science/">Data Science</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Pandas/">Pandas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is the first section for my study note: DS100&amp;More, which records some useful points in data ETL(Extract, Transform and Loaded), visualisation, and modelling. The motivation is to keep a record of my second learning of UC Berkeley DS100 course:  Principles and Techniques of Data Science. By learning relative knowledge, reader should be familiar with some python tools that are in use now, as well as making some inferences from data by hand.</p>
<p>Please contact me at <a href="mailto:zr116@ic.ac.uk" target="_blank" rel="noopener">zr116@ic.ac.uk</a> for any correction and improvement, general discussion on data science is also welcome.</p>
<h3 id="Today‚Äôs-Objectives"><a href="#Today‚Äôs-Objectives" class="headerlink" title="Today‚Äôs Objectives"></a>Today‚Äôs Objectives</h3><ol>
<li>EDA(Exploratory Data Analysis)</li>
<li>Use pyhton Pandas to do EDA</li>
</ol>
<h3 id="Tabular-Data"><a href="#Tabular-Data" class="headerlink" title="Tabular Data"></a>Tabular Data</h3><p><a href="https://www.textbook.ds100.org/ch/03/pandas_intro.html" target="_blank" rel="noopener">DS100 Textbook: Tabular Data</a></p>
<p>The first thing to do when we have a new data set in hand is to look at its inside. Data can be structured in different ways:<br>1.1 Comma-Separated Values (CSV)<br>[example]<br>1.2 Tab-Separated Values (TSV)<br>2.1 JavaScript Object Format (JSON)<br>[curly brackets]<br>3.1 eXtensible Markup Language (XML)<br>[how websites store info]<br>3.2 HyperText Markup Language (HTML)</p>
<blockquote>
<p>CSV and TSV data is structured in a tabular structure, in rows and columns.<br>JSON, XML, HTML data has a hierarchical structure, like a tree.<br>(see Hokodo intern note for JSON processing methods)</p>
</blockquote>
<p>Check file format:</p>
<ol>
<li>right click and view profile</li>
<li>fancier way:<br>use command-line interface (CLI) tools/terminal<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>or if you are in Jupyter notebook:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!ls</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>!+command line in Jupyter</p>
</blockquote>
<p>Although all these data formats are often used, CSV is often the easiest and most frequently used structure.</p>
<p>Before reading data, need to figure out how much memory it is going to take.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">!ls -l -h folder</span><br><span class="line">!du -h folder</span><br><span class="line">#specific file usage</span><br><span class="line">!du -sh folder/*</span><br></pre></td></tr></table></figure>
<p>As a rule of thumb, reading in a file of x GB requires 4x GB memory. <code>Pandas</code> needs 2x but has to share memory with other programs.</p>
<blockquote>
<p><strong>Memory Overhead</strong><br>Note that memory is shared by all programs running on a computer, including the operating system, web browsers, and yes, Jupyter notebook itself. A computer with 4 GiB total RAM might have only 1 GiB available RAM with many applications running. With 1 GiB available RAM, it is unlikely that <code>pandas</code> will be able to read in a 1 GiB file.</p>
</blockquote>
<ul>
<li>To view CSV data in python:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">data = pd.read_csv(&apos;&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>How many rows and columns:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.shape</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>Check the size of data before inpecting it to avoid printing too many columns, which is not helpful to getting to konw the data.</p>
</blockquote>
<ul>
<li><p>Total size:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.size</span><br></pre></td></tr></table></figure>
</li>
<li><p>Inspecting important statistical values of numerical variables in a data set:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.describe()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>This returns count, mean, standard deviation, min, max, and quartiles. <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html" target="_blank" rel="noopener">Details</a></p>
<ul>
<li><p>inspect first/last several rows(default 5)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.head(5)#first 5</span><br><span class="line">data.tail(3)#last 3</span><br></pre></td></tr></table></figure>
</li>
<li><p>other common command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#set &apos;col_name&apos; column as index column, in_place replace the old index column</span><br><span class="line">data.set_index(&apos;col_name&apos;, in_place = True)</span><br><span class="line"></span><br><span class="line">#list all column names</span><br><span class="line">data.columns</span><br><span class="line"></span><br><span class="line">#selection</span><br><span class="line">##select entries in column &apos;col1&apos;</span><br><span class="line">data[&apos;col1&apos;]</span><br><span class="line">##select two columns: col1, col2</span><br><span class="line">data[[&apos;col1&apos;,&apos;col2&apos;]]</span><br><span class="line">##make selected part into a DataFrame</span><br><span class="line">data[[&apos;col1&apos;,&apos;col2&apos;]].to_frame()</span><br><span class="line">##select rows that has val1 in col1</span><br><span class="line">data[data[&apos;col1&apos;]==val1]</span><br><span class="line"></span><br><span class="line">#column manipulation</span><br><span class="line">##count number of each value in a column</span><br><span class="line">data[&apos;col1&apos;].value_count()</span><br><span class="line">##print unique values in a column</span><br><span class="line">data[&apos;col1&apos;].unique()</span><br><span class="line">##statistical values of a column</span><br><span class="line">data[&apos;col1&apos;].min()</span><br><span class="line">data[&apos;col1&apos;].max()</span><br><span class="line">data[&apos;col1&apos;].median()</span><br><span class="line"></span><br><span class="line">#locator</span><br><span class="line">data.loc[row_list,col_list]</span><br><span class="line">data.iloc[[row_index],[column_index]]</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Study-Notes/">Study Notes</a>, <a class="article-category-link" href="/categories/Study-Notes/DS-Notes/">DS Notes</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Cleaning/">Data Cleaning</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Science/">Data Science</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Pandas/">Pandas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Parallel computing with Fortran, OpenMP and MPI" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/10/27/Parallel computing with Fortran, OpenMP and MPI/">Parallel Computing with Fortran, OpenMP and MPI</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2018/10/27/Parallel computing with Fortran, OpenMP and MPI/" class="article-date">
	  <time datetime="2018-10-27T13:17:00.000Z" itemprop="datePublished">October 27, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/CS-projects/">CS projects</a>, <a class="article-category-link" href="/categories/CS-projects/M3C-imperial/">M3C@imperial</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-science/">Computer science</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fortran/">Fortran</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MPI/">MPI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenMP/">OpenMP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Parallel-computing/">Parallel computing</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/CS-projects/">CS projects</a>, <a class="article-category-link" href="/categories/CS-projects/M3C-imperial/">M3C@imperial</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computer-science/">Computer science</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fortran/">Fortran</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MPI/">MPI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenMP/">OpenMP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Parallel-computing/">Parallel computing</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Stochastic Differential Equation simulations and uniform peacock problem" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/09/27/Stochastic Differential Equation simulations and uniform peacock problem/">Stochastic Differential Equation simulations and uniform peacock problem</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2018/09/27/Stochastic Differential Equation simulations and uniform peacock problem/" class="article-date">
	  <time datetime="2018-09-27T08:15:38.000Z" itemprop="datePublished">September 27, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Research-projects/">Research projects</a>, <a class="article-category-link" href="/categories/Research-projects/UROP/">UROP</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/">Math</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Stochastic-Differential-Equations/">Stochastic Differential Equations</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>In this report we will discuss stochastic differential equations and simulations of their roots. After that, a special SDE equation will be introduced and simulated using both Euler and Milstein method.</p>
<p>Find full report <a href="/files/UROP.pdf">here</a>.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Research-projects/">Research projects</a>, <a class="article-category-link" href="/categories/Research-projects/UROP/">UROP</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/">Math</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Stochastic-Differential-Equations/">Stochastic Differential Equations</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-‰ªéÊ∫êÁ†ÅÂàÜÊûêsentryÁöÑÈîôËØØ‰ø°ÊÅØÊî∂ÈõÜ" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/18/‰ªéÊ∫êÁ†ÅÂàÜÊûêsentryÁöÑÈîôËØØ‰ø°ÊÅØÊî∂ÈõÜ/">‰ªéÊ∫êÁ†ÅÂàÜÊûêsentryÁöÑÈîôËØØ‰ø°ÊÅØÊî∂ÈõÜ</a>
    </h1>
  

      </header>
    
    
    <div class="article-meta">
      
	Posted on <a href="/2018/08/18/‰ªéÊ∫êÁ†ÅÂàÜÊûêsentryÁöÑÈîôËØØ‰ø°ÊÅØÊî∂ÈõÜ/" class="article-date">
	  <time datetime="2018-08-18T10:23:55.000Z" itemprop="datePublished">August 18, 2018</time>
	</a>

      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÂâçÁ´ØÁõëÊéß/">ÂâçÁ´ØÁõëÊéß</a></li></ul>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>raven.js ÊòØ sentry ‰∏∫ JavaScript ÈîôËØØ‰∏äÊä•Êèê‰æõÁöÑ JS-SDKÔºåÊú¨ÁØáÊàë‰ª¨Âü∫‰∫éÂÖ∂Ê∫ê‰ª£Á†ÅÂØπÂÖ∂ÂéüÁêÜËøõË°åÂàÜÊûêÔºåÊú¨ÁØáÊñáÁ´†Âè™ÂàÜÊûêÂâçÁ´ØÈÉ®ÂàÜÔºåÂØπÂ∫îÁöÑÊñá‰ª∂ÁõÆÂΩïÊòØ<code>https://github.com/getsentry/sentry-javascript/tree/master/packages/raven-js</code>„ÄÇ</p>
<p>È¶ñÂÖàÊäõÂá∫Âá†‰∏™ÈóÆÈ¢òÔºö</p>
<ul>
<li><strong>raven.js ÊòØÂ¶Ç‰ΩïÊî∂ÈõÜÊµèËßàÂô®ÈîôËØØ‰ø°ÊÅØÁöÑÔºü</strong></li>
<li><strong>raven.js ‰∏äÊä•ÁöÑÈîôËØØ‰ø°ÊÅØÊ†ºÂºèÊòØ‰ªÄ‰πàÊ†∑ÁöÑÔºüÂèàÊòØÂ¶Ç‰ΩïÊääËøô‰∫õ‰ø°ÊÅØ‰º†ÁªôÂêéÁ´ØÔºüÊîØ‰∏çÊîØÊåÅÂêàÂπ∂‰∏äÊä•Ôºü</strong></li>
<li><strong>Èù¢ÂåÖÂ±ëÔºàbreadcrumbsÔºâÊòØ‰ªÄ‰πàÔºüraven.js Â¶Ç‰ΩïÊù•Êî∂ÈõÜÈù¢ÂåÖÂ±ë‰ø°ÊÅØÔºü</strong></li>
<li><strong>raven.js Â¶Ç‰ΩïÂíåÊ°ÜÊû∂ÈÖçÂêà‰ΩøÁî®ÔºàÊØîÂ¶Ç vue„ÄÅreactÔºâÔºü</strong></li>
</ul>
<p>Âú®ÂõûÁ≠î‰ª•‰∏äËøôÂá†‰∏™ÈóÆÈ¢ò‰πãÂâçÔºåÊàë‰ª¨È¶ñÂÖàÊù•ÂØπ raven.js ÂÅö‰∏Ä‰∏™ÂÆèËßÇÁöÑÂàÜÊûêÔºå‰∏ªË¶ÅÊ∂âÂèäÂÖ∂Êñá‰ª∂ÁõÆÂΩï„ÄÅÊâÄÂºïÁî®ÁöÑÁ¨¨‰∏âÊñπÊ°ÜÊû∂Á≠â„ÄÇ</p>
<p>raven.js ÁöÑÊ†∏ÂøÉÊñá‰ª∂ÂÜÖÂÆπÂπ∂‰∏çÂ§öÔºåÂÖ∂‰∏≠‰ΩøÁî®‰∫Ü‰∏â‰∏™Á¨¨‰∏âÊñπÂ∫ìÔºåÊîæÂú®‰∫Ü vendor Êñá‰ª∂Â§π‰∏ãÔºö</p>
<ul>
<li><a href="https://github.com/moll/json-stringify-safe" target="_blank" rel="noopener">json-stringify-safe</a> Ôºö‰∏Ä‰∏™ÂØπ <code>JSON.stringify</code> ÁöÑÂ∞ÅË£ÖÔºåÂÆâÂÖ®ÁöÑ json Â∫èÂàóÂåñÊìç‰ΩúÂáΩÊï∞Ôºå‰∏ç‰ºöÊäõÂá∫Âæ™ÁéØÂºïÁî®ÁöÑÈîôËØØ„ÄÇ<ul>
<li>ËøôÈáåÈù¢Êúâ‰∏Ä‰∏™Ê≥®ÊÑèÁÇπË¶ÅÂçïÁã¨ËØ¥‰∏Ä‰∏ãÔºåÊàë‰ª¨ÁÜüÁü•ÁöÑ <code>JSON.stringify</code> , ÂèØ‰ª•Êé•Âèó‰∏â‰∏™ÂèÇÊï∞ÔºöÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊàë‰ª¨Ë¶ÅÂ∫èÂàóÂåñÁöÑÂØπË±°ÔºõÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂØπÂÖ∂‰∏≠ÈîÆÂÄºÂØπÁöÑÂ§ÑÁêÜÂáΩÊï∞ÔºõÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÊòØÊéßÂà∂Áº©ËøõÁ©∫Ê†º„ÄÇreven.js ÁöÑ <code>json-stringify-safe</code> Â∞±ÊòØÂÖÖÂàÜÂà©Áî®‰∫ÜËøô‰∏â‰∏™ÂèÇÊï∞„ÄÇ</li>
</ul>
</li>
<li><a href="https://github.com/blueimp/JavaScript-MD5" target="_blank" rel="noopener">md5</a>Ôºöjs ÁöÑ md5 ÂáΩÊï∞„ÄÇ</li>
<li><a href="https://github.com/csnover/TraceKit" target="_blank" rel="noopener">TraceKit</a>ÔºöTraceKit ÊòØ‰∏Ä‰∏™Â∑≤ÁªèÊØîËæÉÂÆåÂñÑÁöÑÈîôËØØÊî∂ÈõÜ„ÄÅÂ†ÜÊ†àÊ†ºÂºèÂåñÁöÑÂ∫ìÔºåreven.js ÁöÑÂäüËÉΩÂú®ÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂØπÂÆÉÊúâÊâÄ‰æùËµñ„ÄÇ</li>
</ul>
<p>Èô§Ê≠§‰πãÂ§ñÔºåraven.js ÊîØÊåÅÊèí‰ª∂ÔºåÂÆòÊñπÊèê‰æõÁöÑ‰∏Ä‰∫õÁü•ÂêçÂ∫ìÁöÑ sentry Êèí‰ª∂‰∏ªË¶ÅÊîæÂú®‰∫Ü plugin Êñá‰ª∂Â§π‰∏ãÈù¢Ôºåraven.js ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊñá‰ª∂ÔºåÂàôÊîæÂú®‰∫Ü src Êñá‰ª∂Â§π‰∏ãÈù¢„ÄÇ</p>
<h3 id="raven-js-ÊòØÂ¶Ç‰ΩïÊî∂ÈõÜÈîôËØØ‰ø°ÊÅØÁöÑÔºü"><a href="#raven-js-ÊòØÂ¶Ç‰ΩïÊî∂ÈõÜÈîôËØØ‰ø°ÊÅØÁöÑÔºü" class="headerlink" title="raven.js ÊòØÂ¶Ç‰ΩïÊî∂ÈõÜÈîôËØØ‰ø°ÊÅØÁöÑÔºü"></a>raven.js ÊòØÂ¶Ç‰ΩïÊî∂ÈõÜÈîôËØØ‰ø°ÊÅØÁöÑÔºü</h3><p>Êàë‰ª¨Áü•ÈÅìÔºåÂú®ÂâçÁ´ØÊî∂ÈõÜÈîôËØØÔºåËÇØÂÆöÁ¶ª‰∏çÂºÄ <code>window.onerror</code> Ëøô‰∏™ÂáΩÊï∞ÔºåÈÇ£‰πàÊàë‰ª¨Â∞±‰ªéËøô‰∏™ÂáΩÊï∞ËØ¥Ëµ∑„ÄÇ</p>
<p>ÂÆûÈôÖ‰∏äÔºåËøôÈÉ®ÂàÜÂ∑•‰ΩúÊòØ raven.js ÂºïÁî®ÁöÑÁ¨¨‰∏âÊñπÂ∫ì TraceKit ÂÆåÊàêÁöÑÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function installGlobalHandler() &#123;</span><br><span class="line">  if (_onErrorHandlerInstalled) &#123; // ‰∏Ä‰∏™Ëµ∑Âà∞Ê†áÂøó‰ΩúÁî®ÁöÑÂÖ®Â±ÄÂèòÈáè</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  _oldOnerrorHandler = _window.onerror; </span><br><span class="line">  // _oldOnerrorHandler ÊòØÈò≤Ê≠¢ÂØπÁî®Êà∑ÂÖ∂‰ªñÂú∞ÊñπÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞ËøõË°åË¶ÜÁõñ</span><br><span class="line">  // ËØ• _window ÁªèËøáÂÖºÂÆπÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØ window</span><br><span class="line">  _window.onerror = traceKitWindowOnError;</span><br><span class="line">  _onErrorHandlerInstalled = true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Áõ∏ÂÖ≥ÈîôËØØÂõûË∞ÉÂáΩÊï∞‰∫§Áªô traceKitWindowOnError Â§ÑÁêÜÔºå‰∏ãÈù¢Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ã traceKitWindowOnError ÂáΩÊï∞Ôºå‰∏∫‰∫ÜÈÅøÂÖçÂ§™Â§öÂÜó‰Ωô‰ª£Á†ÅÔºåÊàë‰ª¨‰ªÖÂàÜÊûê‰∏ÄÁßç‰∏ªË¶ÅÊÉÖÂÜµÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function traceKitWindowOnError(msg, url, lineNo, colNo, ex) &#123;</span><br><span class="line">	</span><br><span class="line">	var exception = utils.isErrorEvent(ex) ? ex.error : ex;</span><br><span class="line">	//...</span><br><span class="line">    stack = TraceKit.computeStackTrace(exception);</span><br><span class="line">    notifyHandlers(stack, true);</span><br><span class="line">    //...</span><br><span class="line">   </span><br><span class="line">    //...</span><br><span class="line">    if (_oldOnerrorHandler) &#123;</span><br><span class="line">       return _oldOnerrorHandler.apply(this, arguments);</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂÖ∂‰∏≠Ë∞ÉÁî®ÁöÑÊúÄÈáçË¶ÅÁöÑ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂ∞±ÊòØ computeStackTraceÔºåËÄåËøô‰∏™ÂáΩÊï∞‰πüÊòØ TraceKit ÁöÑÊ†∏ÂøÉÂáΩÊï∞ÔºåÁÆÄÂçïÊù•ËÆ≤ÔºåÂÆÉÂÅöÁöÑ‰∫ãÊÉÖÂ∞±ÊòØÁªü‰∏ÄÊ†ºÂºèÂåñÊä•Èîô‰ø°ÊÅØË∞ÉÁî®Ê†àÔºåÂõ†‰∏∫ÂØπ‰∫éÂêÑ‰∏™ÊµèËßàÂô®Êù•ËØ¥ÔºåËøîÂõûÁöÑ Error Ë∞ÉÁî®Ê†à‰ø°ÊÅØÊ†ºÂºè‰∏çÂ∞ΩÁõ∏ÂêåÔºåÂè¶Â§ñÁîöËá≥ËøòÊúâÁöÑÊµèËßàÂô®Âπ∂‰∏çËøîÂõûË∞ÉÁî®Ê†àÔºåcomputeStackTrace ÂáΩÊï∞ÂØπËøô‰∫õÊÉÖÂÜµÈÉΩÂÅö‰∫ÜÂÖºÂÆπÊÄßÂ§ÑÁêÜÔºåÂπ∂‰∏îÂØπ‰∫é‰∏Ä‰∫õ‰∏çËøîÂõûË∞ÉÁî®Ê†àÁöÑÊÉÖÂÜµÔºåËøò‰ΩøÁî®‰∫Ü caller Êù•Âêë‰∏äÂõûÊ∫ØÂáΩÊï∞ÁöÑË∞ÉÁî®Ê†àÔºåÊúÄÁªàÊääÊä•Èîô‰ø°ÊÅØËΩ¨ÂåñÊàê‰∏Ä‰∏™ÈîÆÁõ∏ÂêåÁöÑÂØπË±°Êï∞ÁªÑÔºåÂÅöÂà∞‰∫ÜÊä•Èîô‰ø°ÊÅØÊ†ºÂºèÁöÑÁªü‰∏Ä„ÄÇ</p>
<p>notifyHandlers ÂáΩÊï∞ÂàôÊòØÈÄöÁü•Áõ∏ÂÖ≥ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ ÂÆûÈôÖ‰∏äÔºåraven.js Âú® install ÂáΩÊï∞‰∏≠‰ºöË∞ÉÁî® TraceKit.report.subscribe ÂáΩÊï∞ÔºåÂπ∂ÊääÂØπÈîôËØØÁöÑÂ§ÑÁêÜÈÄªËæëÂÜôÂÖ•ÂõûË∞ÉÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function subscribe(handler) &#123;</span><br><span class="line">    installGlobalHandler();</span><br><span class="line">    handlers.push(handler);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏äËøáÁ®ãÂÆåÊàê‰∫ÜÈîôËØØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÁöÑË¥üË¥£ËßíËâ≤ËΩ¨Êç¢ÔºåÂπ∂‰∏îÂÄüÂä© TraceKitÔºåÂèØ‰ª•‰Ωø raven.js ÂæóÂà∞‰∏Ä‰∏™ÁªìÊûÑÊØîËæÉÊ∏ÖÊô∞ÁöÑÂ∏¶ÊúâÊ†ºÂºèÂåñÂ•ΩÁöÑË∞ÉÁî®Ê†à‰ø°ÊÅØÁöÑÈîôËØØÂÜÖÂÆπÂØπË±°Ôºå‰πãÂêéÔºåraven.js ÂØπÈîôËØØÂÜÖÂÆπËøõ‰∏ÄÊ≠•Â§ÑÁêÜÂπ∂ÊúÄÁªà‰∏äÊä•„ÄÇ</p>
<p>‰∏ãÈù¢Êàë‰ª¨ÂØπÈîôËØØÂ§ÑÁêÜ raven.js ÊéßÂà∂ÁöÑÈÉ®ÂàÜÂÅö‰∫Ü‰∏Ä‰∫õÊ¢≥ÁêÜÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"> _handleOnErrorStackInfo: function(stackInfo, options) &#123;</span><br><span class="line">    options.mechanism = options.mechanism || &#123;</span><br><span class="line">      type: &apos;onerror&apos;,</span><br><span class="line">      handled: false</span><br><span class="line">    &#125;;</span><br><span class="line">    // mechanism ÂíåÈîôËØØÁªüËÆ°Êù•Ê∫êÊúâÂÖ≥</span><br><span class="line"></span><br><span class="line">    if (!this._ignoreOnError) &#123;</span><br><span class="line">      this._handleStackInfo(stackInfo, options);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">_handleStackInfo: function(stackInfo, options) &#123;</span><br><span class="line">    var frames = this._prepareFrames(stackInfo, options);</span><br><span class="line"></span><br><span class="line">    this._triggerEvent(&apos;handle&apos;, &#123;</span><br><span class="line">      stackInfo: stackInfo,</span><br><span class="line">      options: options</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    this._processException(</span><br><span class="line">      stackInfo.name,</span><br><span class="line">      stackInfo.message,</span><br><span class="line">      stackInfo.url,</span><br><span class="line">      stackInfo.lineno,</span><br><span class="line">      frames,</span><br><span class="line">      options</span><br><span class="line">    );</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">_processException: function(type, message, fileurl, lineno, frames, options) &#123;</span><br><span class="line">    // È¶ñÂÖàÊ†πÊçÆ message ‰ø°ÊÅØÂà§Êñ≠ÊòØÂê¶ÊòØÈúÄË¶ÅÂøΩÁï•ÁöÑÈîôËØØÁ±ªÂûã</span><br><span class="line">    // ÁÑ∂ÂêéÂà§Êñ≠Âá∫ÈîôÁöÑÊñá‰ª∂ÊòØÂê¶Âú®ÈªëÂêçÂçï‰∏≠ÊàñËÄÖÁôΩÂêçÂçï‰∏≠</span><br><span class="line">    // Êé•‰∏ãÊù•ÂØπÈîôËØØÂÜÖÂÆπËøõË°åÂøÖË¶ÅÁöÑÊï¥Âêà‰∏éËΩ¨Êç¢ÔºåÊûÑÈÄ†Âá∫ data ÂØπË±°</span><br><span class="line">    // ÊúÄÂêéË∞ÉÁî®‰∏äÊä•ÂáΩÊï∞</span><br><span class="line">    this._send(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_send: function(data) &#123;</span><br><span class="line">	</span><br><span class="line">	// ÂØπ data Ëøõ‰∏ÄÊ≠•Â§ÑÁêÜÔºåÂ¢ûÂä†ÂøÖË¶ÅÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨ÂêéÁª≠‰ºöÊèêÂà∞ÁöÑÈù¢ÂåÖÂ±ë‰ø°ÊÅØ</span><br><span class="line"></span><br><span class="line">	// ‰∫§Áî± _sendProcessedPayload ËøõË°åËøõ‰∏ÄÊ≠•Â§ÑÁêÜ</span><br><span class="line">	this._sendProcessedPayload(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_sendProcessedPayload: function(data, callback) &#123;</span><br><span class="line"></span><br><span class="line">	// ÂØπ data Â¢ûÂä†‰∏Ä‰∫õÂøÖË¶ÅÁöÑÂÖÉ‰ø°ÊÅØ</span><br><span class="line">	// ÂèØ‰ª•ÈÄöËøáËá™ÂÆö‰πâ globalOptions.transport ÁöÑÊñπÂºèÊù•Ëá™ÂÆö‰πâ‰∏äÊä•ÂáΩÊï∞ </span><br><span class="line">	(globalOptions.transport || this._makeRequest).call(this, &#123;</span><br><span class="line">	     url: url,</span><br><span class="line">	     auth: auth,</span><br><span class="line">	     data: data,</span><br><span class="line">	     options: globalOptions,</span><br><span class="line">	     onSuccess: function success() &#123;</span><br><span class="line">	       </span><br><span class="line">	     &#125;,</span><br><span class="line">	     onError: function failure(error) &#123;</span><br><span class="line">	       </span><br><span class="line">	     &#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line">// ÁúüÊ≠£ÂèëËµ∑ËØ∑Ê±ÇÁöÑÂáΩÊï∞</span><br><span class="line">_makeRequest: function(opts) &#123;</span><br><span class="line">	// ÂØπ‰∫éÊîØÊåÅ fetch ÁöÑÊµèËßàÂô®ÔºåÁõ¥Êé•‰ΩøÁî® fetch ÁöÑÊñπÂºèÂèëÈÄÅ POST ËØ∑Ê±Ç</span><br><span class="line">	// Â¶ÇÊûúÊµèËßàÂô®‰∏çÊîØÊåÅ fetchÔºåÂàô‰ΩøÁî® XHR ÁöÑ‰º†ÁªüÊñπÂºèÂèëÈÄÅ POST ËØ∑Ê±Ç</span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">ÂÆûÈôÖ‰∏äÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞Ôºå‰ªéÊãøÂà∞Â∑≤ÁªèÂàùÊ≠•Ê†ºÂºèÂåñÁöÑÊä•Èîô‰ø°ÊÅØÔºåÂà∞ÊúÄÁªàÁúüÊ≠£ÊâßË°åÊï∞ÊçÆ‰∏äÊä•Ôºåraven.js ÁöÑËøáÁ®ãÈùûÂ∏∏Êº´ÈïøÔºåËøôÂÖ∂‰∏≠ÊàëÂàÜÊûêÊúâÂ¶Ç‰∏ãÂá†‰∏™ÂéüÂõ†Ôºö</span><br><span class="line"></span><br><span class="line">* ÊØè‰∏™ÂáΩÊï∞Âè™Â§ÑÁêÜ‰∏Ä‰ª∂ÊàñËÄÖ‰∏Ä‰∫õ‰∫ãÊÉÖÔºå‰øùÊåÅÂáΩÊï∞ÁöÑÁü≠Â∞èÊï¥Ê¥Å„ÄÇ</span><br><span class="line">* ÈÉ®ÂàÜÂáΩÊï∞ÂèØ‰ª•ÂÅöÂà∞Â§çÁî®ÔºàÂõ†‰∏∫Èô§‰∫ÜËá™Âä®ÊçïËé∑ÈîôËØØÁöÑÊñπÂºèÔºå raven.js ËøòÊèê‰æõÈÄöËøá captureExceptionÔºåÂç≥ `try &#123;</span><br><span class="line">    doSomething(a[0])</span><br><span class="line">&#125; catch(e) &#123;</span><br><span class="line">    Raven.captureException(e)</span><br><span class="line">&#125;` ÁöÑÊñπÂºèÊù•‰∏äÊä•ÈîôËØØÔºå‰∏§‰∏™ËøáÁ®ã‰∏≠Êúâ‰∏Ä‰∫õÂáΩÊï∞ÁöÑË∞ÉÁî®ÊòØÊúâÈáçÂè†ÁöÑÔºâ„ÄÇ</span><br><span class="line"></span><br><span class="line">‰ΩÜÊòØÁ¨îËÄÖËÆ§‰∏∫Ôºåraven.js ÁöÑ‰ª£Á†ÅËÆæËÆ°ËøòÊúâÂæàÂ§öÂÄºÂæó‰ºòÂåñÁöÑÂú∞ÊñπÔºåÊØîÂ¶ÇÔºö</span><br><span class="line"></span><br><span class="line">* ÂØπÊúÄÁªà‰∏äÊä•Êï∞ÊçÆÔºàdataÔºâÁöÑÂ±ûÊÄßÂ§ÑÁêÜÂíåÂ¢ûÂä†ÂàÜÊï£Âú®Â§ö‰∏™ÂáΩÊï∞ÔºåÂπ∂‰∏îÊúâËæÉÂ§öÂèØÈÄâÈ°πÁõÆÔºåÂæàÈöæÊ¢≥ÁêÜÂá∫‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ data Ê†ºÂºèÔºåÂπ∂‰∏î‰∏ç‰æø‰∫éÁª¥Êä§„ÄÇ</span><br><span class="line">* ÈÉ®ÂàÜÂáΩÊï∞ÁöÑÊãÜÂàÜÂøÖË¶ÅÊÄß‰∏çË∂≥ÔºåÂπ∂‰∏î‰ºöÂ¢ûÂä†ÈìæË∑ØÁöÑÂ§çÊùÇÊÄßÔºåÊØîÂ¶Ç `_processException `„ÄÅ`_sendProcessedPayload `„ÄÅ`_makeRequest `Á≠âÈÉΩÂè™Âú®‰∏Ä‰∏™ÈìæË∑Ø‰∏≠Ë¢´Ë∞ÉÁî®‰∏ÄÊ¨°„ÄÇ</span><br><span class="line">* ÈÉ®ÂàÜÂ±ûÊÄßÈáçÂëΩÂêç‰ºöÈÄ†ÊàêËµÑÊ∫êÊµ™Ë¥πÔºåÁî±‰∫é TraceKit ÈÉ®ÂàÜÊúÄÁªàËøîÂõûÁöÑÊï∞ÊçÆÊ†ºÂºèÂπ∂‰∏çÂÆåÂÖ®Êª°Ë∂≥ raven.js ÁöÑÈúÄË¶ÅÔºåÊâÄ‰ª• raven.js ‰πãÂêéÂèàÂú®ËæÉÂêéÈò∂ÊÆµËøõË°å‰∫ÜÈáçÂëΩÂêçÁ≠âÂ§ÑÁêÜÔºåÂÆûÈôÖ‰∏äËøô‰∫õÂÜÖÂÆπÂÆåÂÖ®ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÊñπÂºèÈÅøÂÖç„ÄÇ</span><br><span class="line"></span><br><span class="line">ÊúÄÂêéÔºåÈùûÂ∏∏ÈÅóÊÜæÔºåsentry ÁõÆÂâçÂÆåÂÖ®‰∏çÊîØÊåÅÂêàÂπ∂‰∏äÊä•ÔºåÂ∞±ÁÆóÊòØÂú®Âêå‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÔºàÁîöËá≥‰∫ã‰ª∂Âæ™ÁéØÁöÑÂêå‰∏Ä‰∏™Èò∂ÊÆµÔºåÂÖ≥‰∫é‰∫ã‰ª∂Âæ™ÁéØÔºåÂèØ‰ª•ÂèÇËÄÉÊàë‰πãÂâçÁªòÂà∂ÁöÑ[‰∏ÄÂº†Âõæ](https://www.processon.com/view/link/5b6ec8cbe4b053a09c2fb977)ÔºâÁöÑ‰∏§‰∏™ÈîôËØØÔºåsentry ÈÉΩÊòØÂàÜÂºÄÊù•‰∏äÊä•ÁöÑÔºåËøôÈáåÊúâ‰∏Ä‰∏™ÁÆÄÂçï‰æãÂ≠êÔºö</span><br><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">Raven.config(&apos;http://8ec3f1a9f652463bb58191bd0b35f20c@localhost:9000/2&apos;).install()</span><br><span class="line">let s = window.ss;</span><br><span class="line"></span><br><span class="line">try&#123;</span><br><span class="line">    let b = s.b</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">    Raven.captureException(e)</span><br><span class="line">    // sentry should report error now</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">s.nomethod();</span><br><span class="line">// sentry should report error now</span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏ä‰æãÂ≠ê‰∏≠Ôºåsentry ‰ºöÂèëÈÄÅ‰∏§‰∏™ POST ËØ∑Ê±Ç„ÄÇ</p>
<h3 id="raven-js-ÊúÄÁªà‰∏äÊä•Êï∞ÊçÆÁöÑÊ†ºÂºè"><a href="#raven-js-ÊúÄÁªà‰∏äÊä•Êï∞ÊçÆÁöÑÊ†ºÂºè" class="headerlink" title="raven.js ÊúÄÁªà‰∏äÊä•Êï∞ÊçÆÁöÑÊ†ºÂºè"></a>raven.js ÊúÄÁªà‰∏äÊä•Êï∞ÊçÆÁöÑÊ†ºÂºè</h3><p>Ëøô‰∏ÄÈÉ®ÂàÜÔºåÊàë‰ª¨Âπ∂‰∏ç‰ºöËØ¶ÁªÜÂú∞ÂàÜÊûê raven.js ‰∏äÊä•ÁöÑÊï∞ÊçÆÁöÑÊØè‰∏ÄÈ°πÂÜÖÂÆπÔºå‰ªÖ‰ºöÁªôËØªËÄÖÂ±ïÁ§∫‰∏Ä‰∏™ÊØîËæÉÂÖ∏ÂûãÁöÑÊÉÖÂÜµ„ÄÇ</p>
<p>Êàë‰ª¨Áúã‰∏Ä‰∏ãÂØπ‰∫é‰∏Ä‰∏™‰∏ÄËà¨ÁöÑ js ÈîôËØØÔºåraven.js ‰∏äÊä•ÁöÑ json ‰∏≠ÂåÖÂê´Âì™‰∫õÂÜÖÂÆπÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Â∑≤ÁªèÂà†Êéâ‰∏Ä‰∫õÂÜó‰ΩôÂÜÖÂÆπÁöÑÂÖ∏Âûã‰∏äÊä•‰ø°ÊÅØÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;project&quot;: &quot;2&quot;,</span><br><span class="line">  &quot;logger&quot;: &quot;javascript&quot;,</span><br><span class="line">  &quot;platform&quot;: &quot;javascript&quot;,</span><br><span class="line">  &quot;request&quot;: &#123;</span><br><span class="line">    &quot;headers&quot;: &#123;</span><br><span class="line">      &quot;User-Agent&quot;: &quot;Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;url&quot;: &quot;http://localhost:63342/sentry-test1/test1.html?_ijt=j54dmgn136gom08n8v8v9fdddu&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;exception&quot;: &#123;</span><br><span class="line">    &quot;values&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;TypeError&quot;,</span><br><span class="line">        &quot;value&quot;: &quot;Cannot read property &apos;b&apos; of undefined&quot;,</span><br><span class="line">        &quot;stacktrace&quot;: &#123;</span><br><span class="line">          &quot;frames&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;filename&quot;: &quot;http://localhost:63342/sentry-test1/test1.html?_ijt=j54dmgn136gom08n8v8v9fdddu&quot;,</span><br><span class="line">              &quot;lineno&quot;: 19,</span><br><span class="line">              &quot;colno&quot;: 19,</span><br><span class="line">              &quot;function&quot;: &quot;?&quot;,</span><br><span class="line">              &quot;in_app&quot;: true</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;mechanism&quot;: &#123;</span><br><span class="line">      &quot;type&quot;: &quot;generic&quot;,</span><br><span class="line">      &quot;handled&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;transaction&quot;: &quot;http://localhost:63342/sentry-test1/test1.html?_ijt=j54dmgn136gom08n8v8v9fdddu&quot;,</span><br><span class="line">  &quot;extra&quot;: &#123;</span><br><span class="line">    &quot;session:duration&quot;: 6</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;breadcrumbs&quot;: &#123;</span><br><span class="line">    &quot;values&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;timestamp&quot;: 1534257309.996,</span><br><span class="line">        &quot;message&quot;: &quot;_prepareFrames stackInfo: [object Object]&quot;,</span><br><span class="line">        &quot;level&quot;: &quot;log&quot;,</span><br><span class="line">        &quot;category&quot;: &quot;console&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      // ...</span><br><span class="line">   ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;event_id&quot;: &quot;ea0334adaf9d43b78e72da2b10e084a9&quot;,</span><br><span class="line">  &quot;trimHeadFrames&quot;: 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂÖ∂‰∏≠ÊîØÊåÅÁöÑ‰ø°ÊÅØÁ±ªÂûãÈáçÁÇπÂàÜ‰∏∫‰ª•‰∏ãÂá†ÁßçÔºö</p>
<ul>
<li>sentry Âü∫Êú¨ÈÖçÁΩÆ‰ø°ÊÅØÔºåÂåÖÊã¨Â∫ìÊú¨Ë∫´ÁöÑÈÖçÁΩÆÂíå‰ΩøÁî®ËÄÖÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºå‰ª•ÂèäÁî®Êà∑ÁöÑ‰∏Ä‰∫õËá™ÂÆö‰πâ‰ø°ÊÅØ</li>
<li>ÈîôËØØ‰ø°ÊÅØÔºå‰∏ªË¶ÅÂåÖÊã¨ÈîôËØØË∞ÉÁî®Ê†à‰ø°ÊÅØ</li>
<li>request ‰ø°ÊÅØÔºå‰∏ªË¶ÅÂåÖÊã¨ÊµèËßàÂô®ÁöÑ User-Agent„ÄÅÂΩìÂâçËØ∑Ê±ÇÂú∞ÂùÄÁ≠â</li>
<li>Èù¢ÂåÖÂ±ë‰ø°ÊÅØÔºåÂÖ≥‰∫éÈù¢ÂåÖÂ±ëÂÖ∑‰ΩìÊåáÁöÑÊòØ‰ªÄ‰πàÔºåÊàë‰ª¨‰ºöÂú®‰∏ã‰∏ÄÁéØËäÇËøõË°å‰ªãÁªç</li>
</ul>
<h3 id="raven-js-Èù¢ÂåÖÂ±ëÊî∂ÈõÜ"><a href="#raven-js-Èù¢ÂåÖÂ±ëÊî∂ÈõÜ" class="headerlink" title="raven.js Èù¢ÂåÖÂ±ëÊî∂ÈõÜ"></a>raven.js Èù¢ÂåÖÂ±ëÊî∂ÈõÜ</h3><p>Èù¢ÂåÖÂ±ë‰ø°ÊÅØÔºå‰πüÂ∞±ÊòØÈîôËØØÂú®ÂèëÁîü‰πãÂâçÔºå‰∏Ä‰∫õÁî®Êà∑„ÄÅÊµèËßàÂô®ÁöÑË°å‰∏∫‰ø°ÊÅØÔºåraven.js ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈòüÂàóÔºàÊúâ‰∏Ä‰∏™ÊúÄÂ§ßÊù°ÁõÆÈïøÂ∫¶ÔºåÈªòËÆ§‰∏∫ 100ÔºâÔºåËøô‰∏™ÈòüÂàóÂú®Êó∂ÂàªËÆ∞ÂΩïÁùÄËøô‰∫õ‰ø°ÊÅØÔºå‰∏ÄÊó¶ÈîôËØØÂèëÁîüÂπ∂‰∏îÈúÄË¶Å‰∏äÊä•Ôºåraven.js Â∞±ÊääËøô‰∏™ÈòüÂàóÁöÑ‰ø°ÊÅØÂÜÖÂÆπÔºå‰Ωú‰∏∫Èù¢ÂåÖÂ±ë breadcrumbsÔºåÂèëÂõûÂÆ¢Êà∑Á´Ø„ÄÇ</p>
<p>Èù¢ÂåÖÂ±ë‰ø°ÊÅØ‰∏ªË¶ÅÂåÖÊã¨ËøôÂá†Á±ªÔºö</p>
<ul>
<li>Áî®Êà∑ÂØπÊüê‰∏™ÂÖÉÁ¥†ÁöÑÁÇπÂáªÊàñËÄÖÁî®Êà∑ÂØπÊüê‰∏™ÂèØËæìÂÖ•ÂÖÉÁ¥†ÁöÑËæìÂÖ•</li>
<li>ÂèëÈÄÅÁöÑ http ËØ∑Ê±Ç</li>
<li>console ÊâìÂç∞ÁöÑ‰ø°ÊÅØÔºàÊîØÊåÅÈÖçÁΩÆ ‚Äòdebug‚Äô, ‚Äòinfo‚Äô, ‚Äòwarn‚Äô, ‚Äòerror‚Äô, ‚Äòlog‚Äô Á≠â‰∏çÂêåÁ∫ßÂà´Ôºâ</li>
<li>window.location ÂèòÂåñ‰ø°ÊÅØ</li>
</ul>
<p>Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ÂØπËøôÂá†Á±ªÈù¢ÂåÖÂ±ë‰ø°ÊÅØ sentry ÁöÑËÆ∞ÂΩïÂÆûÁé∞ËøõË°åÁÆÄÂçïÁöÑÂàÜÊûê„ÄÇ</p>
<p>ÂÆûÈôÖ‰∏äÔºåsentry ÂØπËøô‰∫õ‰ø°ÊÅØËÆ∞ÂΩïÁöÑÊñπÂºèÊØîËæÉ‰∏ÄËá¥ÔºåÈÉΩÊòØÈÄöËøáÂØπÂéüÂ£∞ÁöÑÂáΩÊï∞ËøõË°åÂåÖË£ÖÔºåÂπ∂‰∏îÂú®ÂåÖË£ÖÂ•ΩÁöÑÂáΩÊï∞‰∏≠Â¢ûÂä†Ëá™Â∑±ÁöÑÈí©Â≠êÂáΩÊï∞ÔºåÊù•ÂÆûÁé∞Ëß¶ÂèëÊó∂ÂÄôÁöÑ‰∫ã‰ª∂ËÆ∞ÂΩïÔºåÂÆûÈôÖ‰∏äÔºåsentry ÊÄªÂÖ±ÂåÖË£ÖÁöÑÂáΩÊï∞ÊúâÔºö</p>
<ul>
<li>window.setTimeout</li>
<li>window.setInterval</li>
<li>window.requestAnimationFrame</li>
<li>EventTarget.addEventListener</li>
<li>EventTarget.removeEventListener</li>
<li>XMLHTTPRequest.open</li>
<li>XMLHTTPRequest.send</li>
<li>window.fetch</li>
<li>History.pushState</li>
<li>History.replaceState</li>
</ul>
<blockquote>
<p>Â§áÊ≥®ÔºöËøôÈáåÂåÖË£ÖÁöÑÊâÄÊúâÂáΩÊï∞ÔºåÂÖ∂‰∏≠Êúâ‰∏ÄÈÉ®ÂàÜÂè™ÊòØ‰Ωø raven.js ÂÖ∑ÊúâÊçïËé∑ÂõûË∞ÉÂáΩÊï∞‰∏≠ÈîôËØØÁöÑËÉΩÂäõÔºàÂØπÂõûË∞ÉÂáΩÊï∞ËøõË°åÂåÖË£ÖÔºâ</p>
</blockquote>
<p>Êé•‰∏ãÊù•Êàë‰ª¨Áúã‰∏ÄÊÆµÂÖ∏ÂûãÁöÑ‰ª£Á†ÅÔºåÊù•ÂàÜÊûê raven.js ÊòØÂ¶Ç‰ΩïËÆ∞ÂΩïÁî®Êà∑ÁöÑÁÇπÂáªÂíåËæìÂÖ•‰ø°ÊÅØÁöÑÔºàÈÄöËøáÂØπ EventTarget.addEventListener ËøõË°åÂ∞ÅË£ÖÔºâÔºö</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrapEventTarget</span>(<span class="params">global</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> proto = _window[global] &amp;&amp; _window[global].prototype;</span><br><span class="line">      <span class="keyword">if</span> (proto &amp;&amp; proto.hasOwnProperty &amp;&amp; proto.hasOwnProperty(<span class="string">'addEventListener'</span>)) &#123;</span><br><span class="line">        fill(</span><br><span class="line">          proto,</span><br><span class="line">          <span class="string">'addEventListener'</span>,</span><br><span class="line">          <span class="function"><span class="keyword">function</span>(<span class="params">orig</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">evtName, fn, capture, secure</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (fn &amp;&amp; fn.handleEvent) &#123; <span class="comment">//ÂÖºÂÆπÈÄöËøá handleEvent ÁöÑÊñπÂºèËøõË°åÁªëÂÆö‰∫ã‰ª∂</span></span><br><span class="line">                  fn.handleEvent = self.wrap(</span><br><span class="line">                    &#123;</span><br><span class="line">                      mechanism: &#123;</span><br><span class="line">                        type: <span class="string">'instrument'</span>,</span><br><span class="line">                        data: &#123;</span><br><span class="line">                          target: global,</span><br><span class="line">                          <span class="function"><span class="keyword">function</span>: '<span class="title">handleEvent</span>',</span></span><br><span class="line"><span class="function">                          <span class="title">handler</span>: (<span class="params">fn &amp;&amp; fn.name</span>) || '&lt;<span class="title">anonymous</span>&gt;'</span></span><br><span class="line"><span class="function">                        &#125;</span></span><br><span class="line"><span class="function">                      &#125;</span></span><br><span class="line"><span class="function">                    &#125;,</span></span><br><span class="line"><span class="function">                    <span class="title">fn</span>.<span class="title">handleEvent</span></span></span><br><span class="line"><span class="function">                  );</span></span><br><span class="line"><span class="function">                &#125;</span></span><br><span class="line"><span class="function">              &#125; <span class="title">catch</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">var</span> before, clickHandler, keypressHandler;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (</span><br><span class="line">                autoBreadcrumbs &amp;&amp;</span><br><span class="line">                autoBreadcrumbs.dom &amp;&amp;</span><br><span class="line">                (global === <span class="string">'EventTarget'</span> || global === <span class="string">'Node'</span>)</span><br><span class="line">              ) &#123;</span><br><span class="line">                <span class="comment">// <span class="doctag">NOTE:</span> generating multiple handlers per addEventListener invocation, should</span></span><br><span class="line">                <span class="comment">//       revisit and verify we can just use one (almost certainly)</span></span><br><span class="line">                clickHandler = self._breadcrumbEventHandler(<span class="string">'click'</span>);</span><br><span class="line">                keypressHandler = self._keypressEventHandler();</span><br><span class="line">                before = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123; <span class="comment">// Èí©Â≠êÂáΩÊï∞ÔºåÁî®‰∫éÂú®ÂõûË∞ÉÂáΩÊï∞Ë∞ÉÁî®ÁöÑÊó∂ÂÄôËÆ∞ÂΩï‰ø°ÊÅØ</span></span><br><span class="line">                  <span class="keyword">if</span> (!evt) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">                  <span class="keyword">var</span> eventType;</span><br><span class="line">                  <span class="keyword">try</span> &#123;</span><br><span class="line">                    eventType = evt.type;</span><br><span class="line">                  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    <span class="comment">// just accessing event properties can throw an exception in some rare circumstances</span></span><br><span class="line">                    <span class="comment">// see: https://github.com/getsentry/raven-js/issues/838</span></span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">if</span> (eventType === <span class="string">'click'</span>) <span class="keyword">return</span> clickHandler(evt);</span><br><span class="line">                  <span class="keyword">else</span> <span class="keyword">if</span> (eventType === <span class="string">'keypress'</span>) <span class="keyword">return</span> keypressHandler(evt);</span><br><span class="line">                &#125;;</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">return</span> orig.call(</span><br><span class="line">                <span class="keyword">this</span>,</span><br><span class="line">                evtName,</span><br><span class="line">                self.wrap(</span><br><span class="line">                  &#123;</span><br><span class="line">                    mechanism: &#123;</span><br><span class="line">                      type: <span class="string">'instrument'</span>,</span><br><span class="line">                      data: &#123;</span><br><span class="line">                        target: global,</span><br><span class="line">                        <span class="function"><span class="keyword">function</span>: '<span class="title">addEventListener</span>',</span></span><br><span class="line"><span class="function">                        <span class="title">handler</span>: (<span class="params">fn &amp;&amp; fn.name</span>) || '&lt;<span class="title">anonymous</span>&gt;'</span></span><br><span class="line"><span class="function">                      &#125;</span></span><br><span class="line"><span class="function">                    &#125;</span></span><br><span class="line"><span class="function">                  &#125;,</span></span><br><span class="line"><span class="function">                  <span class="title">fn</span>,</span></span><br><span class="line"><span class="function">                  <span class="title">before</span></span></span><br><span class="line"><span class="function">                ),</span></span><br><span class="line"><span class="function">                <span class="title">capture</span>,</span></span><br><span class="line"><span class="function">                <span class="title">secure</span></span></span><br><span class="line"><span class="function">              );</span></span><br><span class="line"><span class="function">            &#125;;</span></span><br><span class="line"><span class="function">          &#125;,</span></span><br><span class="line"><span class="function">          <span class="title">wrappedBuiltIns</span></span></span><br><span class="line"><span class="function">        );</span></span><br><span class="line"><span class="function">        <span class="title">fill</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">          proto,</span></span></span><br><span class="line"><span class="function"><span class="params">          <span class="string">'removeEventListener'</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">          function(orig</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">evt, fn, capture, secure</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">try</span> &#123;</span><br><span class="line">                fn = fn &amp;&amp; (fn.__raven_wrapper__ ? fn.__raven_wrapper__ : fn);</span><br><span class="line">              &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="comment">// ignore, accessing __raven_wrapper__ will throw in some Selenium environments</span></span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">return</span> orig.call(<span class="keyword">this</span>, evt, fn, capture, secure);</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;,</span><br><span class="line">          wrappedBuiltIns</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏ä‰ª£Á†ÅÂÖºÂÆπ‰∫ÜÈÄöËøá handleEvent ÁöÑÊñπÂºèËøõË°åÁªëÂÆö‰∫ã‰ª∂ÔºàÂ¶ÇÊûúÊ≤°ÊúâÂê¨ËØ¥ËøáËøôÁßçÊñπÂºèÔºåÂèØ‰ª•Âú®<a href="http://www.ayqy.net/blog/handleevent%E4%B8%8Eaddeventlistener/" target="_blank" rel="noopener">ËøôÈáå</a>Ë°•ÂÖÖ‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºâ„ÄÇ</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåraven.js Âè™ËÆ∞ÂΩïÈÄöËøá <code>EventTarget.addEventListener</code> ÁªëÂÆöÁöÑÁÇπÂáªÂíåËæìÂÖ•‰ø°ÊÅØÔºåÂÆûÈôÖ‰∏äËøôÊòØÊØîËæÉÁßëÂ≠¶ÁöÑÔºåÂπ∂‰∏îËøô‰∫õ‰ø°ÊÅØËæÉ‰∏∫ÊúâÊïà„ÄÇÂè¶Â§ñÔºåraven.js ‰πüÊèê‰æõ‰∫ÜËÆ∞ÂΩïÊâÄÊúâÁÇπÂáªÂíåËæìÂÖ•‰ø°ÊÅØÁöÑÂèØÈÄâÈ°πÔºåÂÖ∂ÂÆûÁé∞ÊñπÂºèÊõ¥‰∏∫ÁÆÄÂçïÔºåÁõ¥Êé•Âú® document ‰∏äÊ∑ªÂä†Áõ∏ÂÖ≥ÁöÑÁõëÂê¨Âç≥ÂèØ„ÄÇ</p>
<h3 id="raven-js-Â¶Ç‰ΩïÂíåÊ°ÜÊû∂ÈÖçÂêà‰ΩøÁî®"><a href="#raven-js-Â¶Ç‰ΩïÂíåÊ°ÜÊû∂ÈÖçÂêà‰ΩøÁî®" class="headerlink" title="raven.js Â¶Ç‰ΩïÂíåÊ°ÜÊû∂ÈÖçÂêà‰ΩøÁî®"></a>raven.js Â¶Ç‰ΩïÂíåÊ°ÜÊû∂ÈÖçÂêà‰ΩøÁî®</h3><p>raven.js ÂíåÊ°ÜÊû∂ÈÖçÂêà‰ΩøÁî®ÁöÑÊñπÂºèÈùûÂ∏∏ÁÆÄÂçïÔºå‰ΩÜÊòØÊàë‰ª¨Ë¶ÅÁü•ÈÅìÔºåÂæàÂ§öÊ°ÜÊû∂ÂÜÖÁΩÆ‰∫ÜÈîôËØØËæπÁïåÂ§ÑÁêÜÔºåÊàñËÄÖÂØπÈîôËØØËøõË°åËΩ¨‰πâ„ÄÇ‰ª•Ëá≥‰∫éÊàë‰ª¨ÈÄöËøá window.onerror ÁöÑÊñπÂºèÂæó‰∏çÂà∞ÂÆåÊï¥ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇÂêåÊó∂ÔºåÊúâ‰∫õÊ°ÜÊû∂Êèê‰æõ‰∫ÜÈîôËØØÂ§ÑÁêÜÁöÑÊé•Âè£ÔºàÊØîÂ¶Ç vueÔºâÔºåÂà©Áî®ÈîôËØØÂ§ÑÁêÜÁöÑÊé•Âè£ÔºåÊàë‰ª¨ËÉΩÂ§üËé∑ÂèñÂà∞ÂíåÈîôËØØÊúâÂÖ≥ÁöÑÊõ¥Â§öÊõ¥ÈáçË¶ÅÁöÑ‰ø°ÊÅØ„ÄÇ</p>
<p>raven.js Âà©Áî®ÂêÑ‰∏™Ê°ÜÊû∂ÁöÑÂÆòÊñπÊé•Âè£ÔºåÊèê‰æõ‰∫Ü vue„ÄÅrequire.js„ÄÅangular„ÄÅember„ÄÅreact-native Á≠âÂêÑ‰∏™Ê°ÜÊû∂ÁöÑÂÆòÊñπÊèí‰ª∂„ÄÇ</p>
<p>Êèí‰ª∂ÂÜÖÂÆπÊú¨Ë∫´ÈùûÂ∏∏ÁÆÄÂçïÔºåÊàë‰ª¨ÂèØ‰ª•Áúã‰∏Ä‰∏ã vue Êèí‰ª∂ÁöÑ‰ª£Á†ÅÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">function formatComponentName(vm) &#123;</span><br><span class="line">  if (vm.$root === vm) &#123;</span><br><span class="line">    return &apos;root instance&apos;;</span><br><span class="line">  &#125;</span><br><span class="line">  var name = vm._isVue ? vm.$options.name || vm.$options._componentTag : vm.name;</span><br><span class="line">  return (</span><br><span class="line">    (name ? &apos;component &lt;&apos; + name + &apos;&gt;&apos; : &apos;anonymous component&apos;) +</span><br><span class="line">    (vm._isVue &amp;&amp; vm.$options.__file ? &apos; at &apos; + vm.$options.__file : &apos;&apos;)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function vuePlugin(Raven, Vue) &#123;</span><br><span class="line">  Vue = Vue || window.Vue;</span><br><span class="line"></span><br><span class="line">  // quit if Vue isn&apos;t on the page</span><br><span class="line">  if (!Vue || !Vue.config) return;</span><br><span class="line"></span><br><span class="line">  var _oldOnError = Vue.config.errorHandler;</span><br><span class="line">  Vue.config.errorHandler = function VueErrorHandler(error, vm, info) &#123;</span><br><span class="line">    var metaData = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    // vm and lifecycleHook are not always available</span><br><span class="line">    if (Object.prototype.toString.call(vm) === &apos;[object Object]&apos;) &#123;</span><br><span class="line">      metaData.componentName = formatComponentName(vm);</span><br><span class="line">      metaData.propsData = vm.$options.propsData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (typeof info !== &apos;undefined&apos;) &#123;</span><br><span class="line">      metaData.lifecycleHook = info;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Raven.captureException(error, &#123;</span><br><span class="line">      extra: metaData</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    if (typeof _oldOnError === &apos;function&apos;) &#123;</span><br><span class="line">      _oldOnError.call(this, error, vm, info);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = vuePlugin;</span><br></pre></td></tr></table></figure>
<p>Â∫îËØ•‰∏çÁî®ËøõË°åËøáÂ§öËß£Èáä„ÄÇ</p>
<p>‰Ω†‰πüËÆ∏ÊÉ≥Áü•ÈÅì‰∏∫‰ªÄ‰πàÊ≤°ÊúâÊèê‰æõ react Êèí‰ª∂Ôºå‰∫ãÂÆû‰∏äÔºåreact 16 ‰ª•ÂêéÊâçÂºïÂÖ•‰∫Ü<a href="https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html" target="_blank" rel="noopener">Error Boundaries</a>ÔºåËøôÁßçÊñπÂºèÁî±‰∫éÁÅµÊ¥ªÊÄßÂ§™Âº∫ÔºåÂπ∂‰∏çÂ§™ÈÄÇÂêà‰ΩøÁî®Êèí‰ª∂ÔºåÂè¶Â§ñÔºåÂ∞±ÁÆó‰∏ç‰ΩøÁî®Êèí‰ª∂Ôºå‰πüÈùûÂ∏∏Êñπ‰æøÂú∞‰ΩøÁî® raven.js ËøõË°åÈîôËØØ‰∏äÊä•ÔºåÂèØ‰ª•ÂèÇËÄÉ<a href="https://docs.sentry.io/clients/javascript/integrations/react/" target="_blank" rel="noopener">ËøôÈáå</a></p>
<blockquote>
<p>‰ΩÜÁ¨îËÄÖËÆ§‰∏∫ÔºåÁõÆÂâç react ÁöÑÂºïÂÖ•ÊñπÂºè‰ºöÂØπÊ∫ê‰ª£Á†ÅËøõË°å‰æµÂÖ•ÔºåÂπ∂‰∏îÊØîËæÉÈöæÈÄöËøáÊûÑÂª∫ÁöÑÊñπÂºèËøõË°å sentry ÁöÑÈÖçÁΩÆÔºå‰πüËÆ∏Êàë‰ª¨ÂèØ‰ª•ÂØªÊâæÊõ¥Â•ΩÁöÑÊñπÂºè„ÄÇ</p>
</blockquote>
<p>ÂÆå„ÄÇ</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÂâçÁ´ØÁõëÊéß/">ÂâçÁ´ØÁõëÊéß</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search‚Ä¶" value name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/iTimeTraveler" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href="http://www.yoursite.com" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Pinterest"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Flickr"><i class="fa fa-flickr" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:?subject=ËØ∑ËÅîÁ≥ªÊàë&body=ÊàëËÉΩÂ∏Æ‰Ω†‰ªÄ‰πà" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/16/Introduction to Machine Learning/">Introduction to Machine Learning</a></h6>
              <span>April 16, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-thumbnail">
                <a href="/2019/04/14/hello-world/" title><img width="50" height="50" src="https://itimetraveler.github.io/hexo-theme-hiker/2016/10/24/Hiker%E4%B8%BB%E9%A2%98%E9%A2%84%E8%A7%88/homepage-index.png" class="attachment-thumb-small size-thumb-small wp-post-image" alt="preview-16" title></a>
              </div>
              <div class="widget-entry-summary">
            

              <h6 style="margin: 0;"><a href="/2019/04/14/hello-world/">Hello World</a></h6>
              <span>April 15, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/14/Quantitative Methods in Retail Finance Note4/">Quantitative Methods in Retail Finance Note 4</a></h6>
              <span>April 14, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/14/Quantitative Methods in Retail Finance Note3/">Quantitative Methods in Retail Finance Note 3</a></h6>
              <span>April 14, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/14/Quantitative Methods in Retail Finance Note2/">Quantitative Methods in Retail Finance Note 2</a></h6>
              <span>April 14, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/13/Quantitative Methods in Retail Finance Notes1/">Quantitative Method in Retail Finance Note 1</a></h6>
              <span>April 13, 2019</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CS-projects/">CS projects</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS-projects/M3C-imperial/">M3C@imperial</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Notes/">Notes</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Notes/Math-Notes/">Math Notes</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Research-projects/">Research projects</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Research-projects/M2R/">M2R</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Research-projects/UROP/">UROP</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Study-Notes/">Study Notes</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Study-Notes/DS-Notes/">DS Notes</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ANN/">ANN</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Computer-science/">Computer science</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Credit-Modelling/">Credit Modelling</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Credit-modelling/">Credit modelling</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Cleaning/">Data Cleaning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Science/">Data Science</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fortran/">Fortran</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MPI/">MPI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVVM/">MVVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markov-Transition-Model/">Markov Transition Model</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/">Math</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matlab/">Matlab</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mechanics/">Mechanics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenMP/">OpenMP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PWA/">PWA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pandas/">Pandas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Parallel-computing/">Parallel computing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stochastic-Differential-Equations/">Stochastic Differential Equations</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Survival-Model/">Survival Model</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/">ssh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ÂâçÁ´ØÁõëÊéß/">ÂâçÁ´ØÁõëÊéß</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ÊÄßËÉΩ‰ºòÂåñ/">ÊÄßËÉΩ‰ºòÂåñ</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ANN/" style="font-size: 15px;">ANN</a> <a href="/tags/Computer-science/" style="font-size: 10px;">Computer science</a> <a href="/tags/Credit-Modelling/" style="font-size: 15px;">Credit Modelling</a> <a href="/tags/Credit-modelling/" style="font-size: 10px;">Credit modelling</a> <a href="/tags/Data-Cleaning/" style="font-size: 10px;">Data Cleaning</a> <a href="/tags/Data-Science/" style="font-size: 10px;">Data Science</a> <a href="/tags/Fortran/" style="font-size: 10px;">Fortran</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MPI/" style="font-size: 10px;">MPI</a> <a href="/tags/MVVM/" style="font-size: 10px;">MVVM</a> <a href="/tags/Machine-Learning/" style="font-size: 10px;">Machine Learning</a> <a href="/tags/Markov-Transition-Model/" style="font-size: 10px;">Markov Transition Model</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/Matlab/" style="font-size: 10px;">Matlab</a> <a href="/tags/Mechanics/" style="font-size: 10px;">Mechanics</a> <a href="/tags/OpenMP/" style="font-size: 10px;">OpenMP</a> <a href="/tags/PWA/" style="font-size: 10px;">PWA</a> <a href="/tags/Pandas/" style="font-size: 10px;">Pandas</a> <a href="/tags/Parallel-computing/" style="font-size: 10px;">Parallel computing</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/Stochastic-Differential-Equations/" style="font-size: 10px;">Stochastic Differential Equations</a> <a href="/tags/Survival-Model/" style="font-size: 10px;">Survival Model</a> <a href="/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/ÂâçÁ´ØÁõëÊéß/" style="font-size: 10px;">ÂâçÁ´ØÁõëÊéß</a> <a href="/tags/ÊÄßËÉΩ‰ºòÂåñ/" style="font-size: 15px;">ÊÄßËÉΩ‰ºòÂåñ</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 Z.Ran All Rights Reserved.
          <!-- 
            <span id="busuanzi_container_site_uv">
              Êú¨Á´ôËÆøÂÆ¢Êï∞<span id="busuanzi_value_site_uv"></span>‰∫∫Ê¨°  
              Êú¨Á´ôÊÄªËÆøÈóÆÈáè<span id="busuanzi_value_site_pv"></span>Ê¨°
            </span>
           -->
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="https://dnqof95d40fo6.cloudfront.net/atw7f8.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
